{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"G:\\\\koulupaskaa\\\\Webapplications\\\\twotter\\\\src\\\\components\\\\newPostPage.js\";\nimport { createPost } from './../services/newPost';\nimport { Form, Button } from 'react-bootstrap';\nimport { component } from './component.css';\n\nconst {\n  Component\n} = require(\"react\");\n\nclass AddPost extends Component {\n  constructor() {\n    super();\n\n    this.handleClose = () => {\n      this.props.handleClose();\n    };\n\n    this.CreatePost = e => {\n      var postData = {\n        title: this.state.title,\n        subject: this.state.subject,\n        user: this.props.displayName\n      };\n      createPost(postData).then(response => {\n        this.handleClose();\n        this.reloadPosts();\n        console.log(response);\n      });\n    };\n\n    this.reloadPosts = () => {\n      this.props.getPosts();\n    };\n\n    this.state = {\n      title: \"\",\n      subject: \"\",\n      error: \"\",\n      displayName: \"\"\n    };\n    this.handleTitleChange = this.handleTitleChange.bind(this);\n    this.handleSubjectChange = this.handleSubjectChange.bind(this);\n    this.dismissError = this.dismissError.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  dismissError() {\n    this.setState({\n      error: \"\"\n    });\n  }\n\n  handleSubmit(evt) {\n    evt.preventDefault();\n\n    if (!this.state.title) {\n      return this.setState({\n        error: \"Title is required\"\n      });\n    }\n\n    if (!this.state.subject) {\n      return this.setState({\n        error: \"Subject is required\"\n      });\n    }\n\n    this.CreatePost();\n    return this.setState({\n      error: \"\"\n    });\n  }\n\n  handleTitleChange(evt) {\n    this.setState({\n      title: evt.target.value\n    });\n  }\n\n  handleSubjectChange(evt) {\n    this.setState({\n      subject: evt.target.value\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-md-5\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-are\",\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          onSubmit: this.handleSubmit,\n          className: \"newPost\",\n          children: [this.state.error && /*#__PURE__*/_jsxDEV(\"h3\", {\n            onClick: this.dismissError,\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              onClick: this.dismissError,\n              children: \"X\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 29\n            }, this), this.state.error]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Label, {\n            children: [\"Logged in as: \", this.props.displayName]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Title\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              className: \"username\",\n              type: \"text\",\n              placeholder: \"Enter title\",\n              value: this.state.title,\n              onChange: this.handleTitleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Subject\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              as: \"textarea\",\n              rows: 3,\n              className: \"username\",\n              type: \"text\",\n              placeholder: \"Enter subject\",\n              value: this.state.subject,\n              onChange: this.handleSubjectChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            className: \"submit\",\n            type: \"submit\",\n            value: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nexport default AddPost;","map":{"version":3,"sources":["G:/koulupaskaa/Webapplications/twotter/src/components/newPostPage.js"],"names":["createPost","Form","Button","component","Component","require","AddPost","constructor","handleClose","props","CreatePost","e","postData","title","state","subject","user","displayName","then","response","reloadPosts","console","log","getPosts","error","handleTitleChange","bind","handleSubjectChange","dismissError","handleSubmit","setState","evt","preventDefault","target","value","render"],"mappings":"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","sourcesContent":["\r\nimport { createPost } from './../services/newPost';\r\nimport { Form, Button } from 'react-bootstrap';\r\nimport { component } from './component.css';\r\nconst { Component } = require(\"react\");\r\n\r\nclass AddPost extends Component {\r\n\r\n    constructor(){\r\n        super();\r\n        this.state={\r\n            title: \"\",\r\n            subject: \"\",\r\n            error: \"\",\r\n            displayName: \"\",\r\n        };\r\n\r\n        this.handleTitleChange = this.handleTitleChange.bind(this);\r\n        this.handleSubjectChange = this.handleSubjectChange.bind(this);\r\n        this.dismissError = this.dismissError.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    dismissError(){\r\n        this.setState({ error: \"\" });\r\n    }\r\n\r\n    handleClose = () => {\r\n        this.props.handleClose();\r\n    }\r\n\r\n    handleSubmit(evt){\r\n        evt.preventDefault();\r\n\r\n        if(!this.state.title){\r\n            return this.setState({ error: \"Title is required\" });\r\n        }\r\n        if(!this.state.subject) {\r\n            return this.setState({ error: \"Subject is required\" });\r\n        }\r\n\r\n\r\n        this.CreatePost();\r\n        return this.setState({ error: \"\" });\r\n    }\r\n\r\n    handleTitleChange(evt) {\r\n        this.setState({\r\n            title: evt.target.value,\r\n        });\r\n    }\r\n\r\n    handleSubjectChange(evt) {\r\n        this.setState({\r\n            subject: evt.target.value,\r\n        });\r\n    }\r\n\r\n    CreatePost = (e) => {\r\n        var postData = {\r\n            title: this.state.title,\r\n            subject: this.state.subject,\r\n            user: this.props.displayName,\r\n        }\r\n        createPost(postData)\r\n        .then(response => {\r\n            this.handleClose();\r\n            this.reloadPosts();\r\n          console.log(response);\r\n        })\r\n      }\r\n\r\n      reloadPosts = () => {\r\n          this.props.getPosts();\r\n      }\r\n\r\n    render() {\r\n        return(\r\n        <div className=\"col-md-5\">\r\n            <div className=\"form-are\">\r\n                <Form onSubmit={this.handleSubmit} className=\"newPost\">\r\n                    {\r\n                        this.state.error &&\r\n                        <h3 onClick={this.dismissError}>\r\n                            <Button onClick={this.dismissError}>X</Button>\r\n                            {this.state.error}\r\n                        </h3>\r\n                    }\r\n                    <Form.Label>Logged in as: {this.props.displayName}</Form.Label>\r\n                    <div className=\"form-group\">\r\n                        <Form.Label>Title</Form.Label>\r\n                        <Form.Control className=\"username\" type=\"text\" placeholder=\"Enter title\" value={this.state.title} onChange={this.handleTitleChange}></Form.Control>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <Form.Label>Subject</Form.Label>\r\n                        <Form.Control as=\"textarea\" rows={3} className=\"username\" type=\"text\" placeholder=\"Enter subject\" value={this.state.subject} onChange={this.handleSubjectChange}></Form.Control>\r\n                    </div>\r\n                    <Form.Control className=\"submit\" type=\"submit\" value=\"Submit\"></Form.Control>\r\n                </Form>\r\n            </div>\r\n        </div>\r\n    )}\r\n}\r\n\r\nexport default AddPost;"]},"metadata":{},"sourceType":"module"}