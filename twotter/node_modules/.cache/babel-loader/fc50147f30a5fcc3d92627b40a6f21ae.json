{"ast":null,"code":"import _classCallCheck from\"G:/koulupaskaa/Webapplications/twotter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"G:/koulupaskaa/Webapplications/twotter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"G:/koulupaskaa/Webapplications/twotter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"G:/koulupaskaa/Webapplications/twotter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"G:/koulupaskaa/Webapplications/twotter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{Component}from'react';import{Form,Button}from'react-bootstrap';import component from'./component.css';import{login}from'./../services/login';var LoginPage=/*#__PURE__*/function(_Component){_inherits(LoginPage,_Component);var _super=_createSuper(LoginPage);function LoginPage(props){var _this;_classCallCheck(this,LoginPage);_this=_super.call(this,props);_this.HideModal=function(){_this.props.handleClose();};_this.Login=function(e){login(e).then(function(response){localStorage.setItem('token',response.token);console.log(\"TOKEN\",response.token);_this.onLogin();_this.HideModal();});};_this.state={email:'',password:'',error:''};_this.handlePassChange=_this.handlePassChange.bind(_assertThisInitialized(_this));_this.handleUserChange=_this.handleUserChange.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.dismissError=_this.dismissError.bind(_assertThisInitialized(_this));return _this;}_createClass(LoginPage,[{key:\"dismissError\",value:function dismissError(){this.setState({error:''});}},{key:\"handleSubmit\",value:function handleSubmit(evt){evt.preventDefault();if(!this.state.email){return this.setState({error:'Username is required'});}if(!this.state.password){return this.setState({error:'Password is required'});}var userInfo={email:this.state.email,password:this.state.password};this.Login(userInfo);return this.setState({error:''});}},{key:\"handleUserChange\",value:function handleUserChange(evt){this.setState({email:evt.target.value});}},{key:\"handlePassChange\",value:function handlePassChange(evt){this.setState({password:evt.target.value});}},{key:\"onLogin\",value:function onLogin(){this.props.loginHandler();}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Form,{onSubmit:this.handleSubmit,className:\"container\",children:[this.state.error&&/*#__PURE__*/_jsxs(\"h3\",{onClick:this.dismissError,children:[/*#__PURE__*/_jsx(Button,{onClick:this.dismissError,children:\"X\"}),this.state.error]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-25\",children:/*#__PURE__*/_jsx(Form.Label,{className:\"usernameLabel\",children:\"Email\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-75\",children:/*#__PURE__*/_jsx(Form.Control,{className:\"username\",type:\"email\",value:this.state.email,onChange:this.handleUserChange})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-25\",children:/*#__PURE__*/_jsx(Form.Label,{className:\"passwordLabel\",children:\"Password\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-75\",children:/*#__PURE__*/_jsx(Form.Control,{className:\"password\",type:\"password\",value:this.state.password,onChange:this.handlePassChange})})]}),/*#__PURE__*/_jsx(Form.Control,{className:\"submit\",type:\"submit\",value:\"Log In\"})]})});}}]);return LoginPage;}(Component);export default LoginPage;","map":{"version":3,"sources":["G:/koulupaskaa/Webapplications/twotter/src/components/loginPage.js"],"names":["React","Component","Form","Button","component","login","LoginPage","props","HideModal","handleClose","Login","e","then","response","localStorage","setItem","token","console","log","onLogin","state","email","password","error","handlePassChange","bind","handleUserChange","handleSubmit","dismissError","setState","evt","preventDefault","userInfo","target","value","loginHandler"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Form, Button } from 'react-bootstrap';\r\nimport component from './component.css';\r\nimport { login } from './../services/login';\r\n\r\nclass LoginPage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            email: '',\r\n            password: '',\r\n            error: '',\r\n        };\r\n        this.handlePassChange = this.handlePassChange.bind(this);\r\n        this.handleUserChange = this.handleUserChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.dismissError = this.dismissError.bind(this);\r\n\r\n\r\n    }\r\n\r\n    dismissError() {\r\n        this.setState({ error: '' });\r\n    }\r\n\r\n    handleSubmit(evt) {\r\n        evt.preventDefault();\r\n        \r\n        if(!this.state.email) {\r\n            return this.setState({ error: 'Username is required' });\r\n        }\r\n\r\n        if(!this.state.password) {\r\n            return this.setState({ error: 'Password is required' });\r\n        }\r\n\r\n        var userInfo = {\r\n            email: this.state.email,\r\n            password: this.state.password\r\n        }\r\n        this.Login(userInfo);\r\n        return this.setState({ error: '' });\r\n    }\r\n\r\n    HideModal = () => {\r\n        this.props.handleClose();\r\n    }\r\n\r\n    Login = (e) => {\r\n        login(e)\r\n        .then(response => {\r\n            localStorage.setItem('token', response.token);\r\n            console.log(\"TOKEN\", response.token);\r\n            this.onLogin();\r\n            this.HideModal();\r\n        })\r\n    }\r\n\r\n    handleUserChange(evt) {\r\n        this.setState({\r\n            email: evt.target.value,\r\n        });\r\n    }\r\n\r\n    handlePassChange(evt) {\r\n        this.setState({\r\n            password: evt.target.value,\r\n        });\r\n    }\r\n\r\n    onLogin(){\r\n        this.props.loginHandler();\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <div>\r\n                <Form onSubmit={this.handleSubmit} className=\"container\">\r\n                    {\r\n                        this.state.error &&\r\n                        <h3 onClick={this.dismissError}>\r\n                            <Button onClick={this.dismissError}>X</Button>\r\n                            {this.state.error}\r\n                        </h3>\r\n                    }\r\n                    <div className=\"row\">\r\n                        <div className=\"col-25\">\r\n                            <Form.Label className=\"usernameLabel\">Email</Form.Label>\r\n                        </div>\r\n                        <div className=\"col-75\">\r\n                            <Form.Control className=\"username\" type=\"email\" value={this.state.email} onChange={this.handleUserChange} />\r\n                        </div>\r\n                    </div> \r\n                    <div className=\"row\">\r\n                        <div className=\"col-25\">\r\n                            <Form.Label className=\"passwordLabel\">Password</Form.Label>\r\n                        </div>\r\n                        <div className=\"col-75\">\r\n                            <Form.Control className=\"password\" type=\"password\" value={this.state.password} onChange={this.handlePassChange}></Form.Control>\r\n                        </div>   \r\n                    </div>                  \r\n                    <Form.Control className=\"submit\" type=\"submit\" value=\"Log In\"></Form.Control>\r\n                </Form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default LoginPage;"]},"metadata":{},"sourceType":"module"}