{"ast":null,"code":"import _classCallCheck from\"G:/koulupaskaa/Webapplications/twotter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"G:/koulupaskaa/Webapplications/twotter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"G:/koulupaskaa/Webapplications/twotter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"G:/koulupaskaa/Webapplications/twotter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"G:/koulupaskaa/Webapplications/twotter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{createPost}from'./../services/newPost';import{Form,Button}from'react-bootstrap';import{component}from'./component.css';var _require=require(\"react\"),Component=_require.Component;var AddPost=/*#__PURE__*/function(_Component){_inherits(AddPost,_Component);var _super=_createSuper(AddPost);function AddPost(){var _this;_classCallCheck(this,AddPost);_this=_super.call(this);_this.handleClose=function(){_this.props.handleClose();};_this.CreatePost=function(e){var postData={title:_this.state.title,subject:_this.state.subject,user:_this.props.displayName};createPost(postData).then(function(response){_this.handleClose();_this.reloadPosts();console.log(response);});};_this.reloadPosts=function(){_this.props.getPosts();};_this.state={title:\"\",subject:\"\",error:\"\",displayName:\"\"};_this.handleTitleChange=_this.handleTitleChange.bind(_assertThisInitialized(_this));_this.handleSubjectChange=_this.handleSubjectChange.bind(_assertThisInitialized(_this));_this.dismissError=_this.dismissError.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(AddPost,[{key:\"dismissError\",value:function dismissError(){this.setState({error:\"\"});}},{key:\"handleSubmit\",value:function handleSubmit(evt){evt.preventDefault();if(!this.state.title){return this.setState({error:\"Title is required\"});}if(!this.state.subject){return this.setState({error:\"Subject is required\"});}this.CreatePost();return this.setState({error:\"\"});}},{key:\"handleTitleChange\",value:function handleTitleChange(evt){this.setState({title:evt.target.value});}},{key:\"handleSubjectChange\",value:function handleSubjectChange(evt){this.setState({subject:evt.target.value});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"form-are\",children:/*#__PURE__*/_jsxs(Form,{onSubmit:this.handleSubmit,className:\"container\",children:[this.state.error&&/*#__PURE__*/_jsxs(\"h3\",{onClick:this.dismissError,children:[/*#__PURE__*/_jsx(Button,{onClick:this.dismissError,children:\"X\"}),this.state.error]}),/*#__PURE__*/_jsxs(Form.Label,{children:[\"Logged in as: \",this.props.displayName]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-25\",children:/*#__PURE__*/_jsx(Form.Label,{children:\"Title\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-75\",children:/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Enter title\",value:this.state.title,onChange:this.handleTitleChange})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-25\",children:/*#__PURE__*/_jsx(Form.Label,{children:\"Subject\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-75\",children:/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Enter subject\",value:this.state.subject,onChange:this.handleSubjectChange})})]}),/*#__PURE__*/_jsx(Form.Control,{className:\"submit\",type:\"submit\",value:\"Submit\"})]})})});}}]);return AddPost;}(Component);export default AddPost;","map":{"version":3,"sources":["G:/koulupaskaa/Webapplications/twotter/src/components/newPostPage.js"],"names":["createPost","Form","Button","component","require","Component","AddPost","handleClose","props","CreatePost","e","postData","title","state","subject","user","displayName","then","response","reloadPosts","console","log","getPosts","error","handleTitleChange","bind","handleSubjectChange","dismissError","handleSubmit","setState","evt","preventDefault","target","value"],"mappings":"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","sourcesContent":["\r\nimport { createPost } from './../services/newPost';\r\nimport { Form, Button } from 'react-bootstrap';\r\nimport { component } from './component.css';\r\nconst { Component } = require(\"react\");\r\n\r\nclass AddPost extends Component {\r\n\r\n    constructor(){\r\n        super();\r\n        this.state={\r\n            title: \"\",\r\n            subject: \"\",\r\n            error: \"\",\r\n            displayName: \"\",\r\n        };\r\n\r\n        this.handleTitleChange = this.handleTitleChange.bind(this);\r\n        this.handleSubjectChange = this.handleSubjectChange.bind(this);\r\n        this.dismissError = this.dismissError.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    dismissError(){\r\n        this.setState({ error: \"\" });\r\n    }\r\n\r\n    handleClose = () => {\r\n        this.props.handleClose();\r\n    }\r\n\r\n    handleSubmit(evt){\r\n        evt.preventDefault();\r\n\r\n        if(!this.state.title){\r\n            return this.setState({ error: \"Title is required\" });\r\n        }\r\n        if(!this.state.subject) {\r\n            return this.setState({ error: \"Subject is required\" });\r\n        }\r\n\r\n\r\n        this.CreatePost();\r\n        return this.setState({ error: \"\" });\r\n    }\r\n\r\n    handleTitleChange(evt) {\r\n        this.setState({\r\n            title: evt.target.value,\r\n        });\r\n    }\r\n\r\n    handleSubjectChange(evt) {\r\n        this.setState({\r\n            subject: evt.target.value,\r\n        });\r\n    }\r\n\r\n    CreatePost = (e) => {\r\n        var postData = {\r\n            title: this.state.title,\r\n            subject: this.state.subject,\r\n            user: this.props.displayName,\r\n        }\r\n        createPost(postData)\r\n        .then(response => {\r\n            this.handleClose();\r\n            this.reloadPosts();\r\n          console.log(response);\r\n        })\r\n      }\r\n\r\n      reloadPosts = () => {\r\n          this.props.getPosts();\r\n      }\r\n\r\n    render() {\r\n        return(\r\n        <div>\r\n            <div className=\"form-are\">\r\n                <Form onSubmit={this.handleSubmit} className=\"container\">\r\n                    {\r\n                        this.state.error &&\r\n                        <h3 onClick={this.dismissError}>\r\n                            <Button onClick={this.dismissError}>X</Button>\r\n                            {this.state.error}\r\n                        </h3>\r\n                    }\r\n                    <Form.Label>Logged in as: {this.props.displayName}</Form.Label>\r\n                    <div className=\"row\">\r\n                        <div className=\"col-25\">\r\n                            <Form.Label>Title</Form.Label>\r\n                        </div>\r\n                        <div className=\"col-75\">\r\n                            <Form.Control type=\"text\" placeholder=\"Enter title\" value={this.state.title} onChange={this.handleTitleChange}></Form.Control>\r\n                        </div>    \r\n                    </div>\r\n                    <div className=\"row\">\r\n                        <div className=\"col-25\">\r\n                            <Form.Label>Subject</Form.Label>\r\n                        </div>\r\n                        <div className=\"col-75\">\r\n                            <Form.Control type=\"text\" placeholder=\"Enter subject\" value={this.state.subject} onChange={this.handleSubjectChange}></Form.Control>\r\n                        </div>\r\n                    </div>\r\n                    <Form.Control className=\"submit\" type=\"submit\" value=\"Submit\"></Form.Control>\r\n                </Form>\r\n            </div>\r\n        </div>\r\n    )}\r\n}\r\n\r\nexport default AddPost;"]},"metadata":{},"sourceType":"module"}