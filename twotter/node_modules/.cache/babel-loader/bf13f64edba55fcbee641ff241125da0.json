{"ast":null,"code":"import _classCallCheck from\"G:/koulupaskaa/Webapplications/twotter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"G:/koulupaskaa/Webapplications/twotter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"G:/koulupaskaa/Webapplications/twotter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"G:/koulupaskaa/Webapplications/twotter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{Component,useState}from'react';import LoginPage from'./loginPage';import component from'./component.css';import{Button}from'react-bootstrap';import{logout}from'./../services/logOut';export var OpenLoginModal=/*#__PURE__*/function(_Component){_inherits(OpenLoginModal,_Component);var _super=_createSuper(OpenLoginModal);function OpenLoginModal(props){var _this;_classCallCheck(this,OpenLoginModal);_this=_super.call(this,props);_this.showModal=function(){_this.setState({show:true});};_this.hideModal=function(){_this.setState({show:false});};_this.logOut=function(){localStorage.removeItem('token');logout().then(function(response){console.log(response);_this.loginHandler();});};_this.loginHandler=function(){_this.props.loginHandler();};console.log(\"Props\",_this.props);_this.state={show:false};return _this;}_createClass(OpenLoginModal,[{key:\"render\",value:function render(){var button;console.log(\"isLoggedIn\",this.props.isLoggedIn);if(this.props.isLoggedIn){button=/*#__PURE__*/_jsx(Button,{variant:\"outline-info\",onClick:this.logOut,children:\"Log out\"});}else{button=/*#__PURE__*/_jsx(Button,{variant:\"outline-info\",onClick:this.showModal,children:\"Log in\"});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Modal,{show:this.state.show,handleClose:this.hideModal,loginHandler:this.props.loginHandler}),button]});}}]);return OpenLoginModal;}(Component);var Modal=function Modal(_ref){var handleClose=_ref.handleClose,show=_ref.show,loginHandler=_ref.loginHandler;var showHideClassName=show?\"modal display-block\":\"modal display-none\";return/*#__PURE__*/_jsx(\"div\",{className:showHideClassName,children:/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(LoginPage,{loginHandler:loginHandler,handleClose:handleClose}),/*#__PURE__*/_jsx(Button,{onClick:handleClose,className:\"close\",children:\"X\"})]})});};","map":{"version":3,"sources":["G:/koulupaskaa/Webapplications/twotter/src/components/openLoginModal.js"],"names":["React","Component","useState","LoginPage","component","Button","logout","OpenLoginModal","props","showModal","setState","show","hideModal","logOut","localStorage","removeItem","then","response","console","log","loginHandler","state","button","isLoggedIn","Modal","handleClose","showHideClassName"],"mappings":"4rBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAQC,CAAAA,SAAR,KAAwB,aAAxB,CACA,MAAOC,CAAAA,SAAP,KAAsB,iBAAtB,CACA,OAASC,MAAT,KAAuB,iBAAvB,CACA,OAASC,MAAT,KAAuB,sBAAvB,CAEA,UAAaC,CAAAA,cAAb,gHACI,wBAAYC,KAAZ,CAAmB,gDACf,uBAAMA,KAAN,EADe,MAQnBC,SARmB,CAQP,UAAM,CACd,MAAKC,QAAL,CAAe,CAAEC,IAAI,CAAE,IAAR,CAAf,EACH,CAVkB,OAYnBC,SAZmB,CAYP,UAAM,CACd,MAAKF,QAAL,CAAe,CAAEC,IAAI,CAAE,KAAR,CAAf,EACH,CAdkB,OAgBnBE,MAhBmB,CAgBV,UAAM,CACXC,YAAY,CAACC,UAAb,CAAwB,OAAxB,EACAT,MAAM,GACLU,IADD,CACM,SAAAC,QAAQ,CAAI,CACdC,OAAO,CAACC,GAAR,CAAYF,QAAZ,EACA,MAAKG,YAAL,GACH,CAJD,EAMH,CAxBkB,OA0BnBA,YA1BmB,CA0BJ,UAAM,CACjB,MAAKZ,KAAL,CAAWY,YAAX,GACH,CA5BkB,CAEfF,OAAO,CAACC,GAAR,CAAY,OAAZ,CAAqB,MAAKX,KAA1B,EACA,MAAKa,KAAL,CAAa,CACTV,IAAI,CAAE,KADG,CAAb,CAHe,aAMlB,CAPL,kEA+Ba,CACL,GAAIW,CAAAA,MAAJ,CACAJ,OAAO,CAACC,GAAR,CAAY,YAAZ,CAA0B,KAAKX,KAAL,CAAWe,UAArC,EACA,GAAG,KAAKf,KAAL,CAAWe,UAAd,CAAyB,CACrBD,MAAM,cAAG,KAAC,MAAD,EAAQ,OAAO,CAAC,cAAhB,CAA+B,OAAO,CAAE,KAAKT,MAA7C,qBAAT,CACH,CAFD,IAEO,CACHS,MAAM,cAAG,KAAC,MAAD,EAAQ,OAAO,CAAC,cAAhB,CAA+B,OAAO,CAAE,KAAKb,SAA7C,oBAAT,CACH,CACD,mBACI,oCACI,KAAC,KAAD,EAAO,IAAI,CAAE,KAAKY,KAAL,CAAWV,IAAxB,CAA8B,WAAW,CAAE,KAAKC,SAAhD,CAA2D,YAAY,CAAE,KAAKJ,KAAL,CAAWY,YAApF,EADJ,CAGKE,MAHL,GADJ,CAOH,CA9CL,4BAAoCrB,SAApC,EAiDA,GAAMuB,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,MAAyC,IAAtCC,CAAAA,WAAsC,MAAtCA,WAAsC,CAAzBd,IAAyB,MAAzBA,IAAyB,CAAnBS,YAAmB,MAAnBA,YAAmB,CACnD,GAAMM,CAAAA,iBAAiB,CAAGf,IAAI,CAAG,qBAAH,CAA2B,oBAAzD,CACA,mBACI,YAAK,SAAS,CAAEe,iBAAhB,uBACI,wCACI,KAAC,SAAD,EAAW,YAAY,CAAEN,YAAzB,CAAuC,WAAW,CAAEK,WAApD,EADJ,cAEI,KAAC,MAAD,EAAQ,OAAO,CAAEA,WAAjB,CAA8B,SAAS,CAAC,OAAxC,eAFJ,GADJ,EADJ,CASH,CAXD","sourcesContent":["import React, { Component, useState } from 'react';\r\nimport  LoginPage  from './loginPage';\r\nimport component from './component.css';\r\nimport { Button } from 'react-bootstrap';\r\nimport { logout } from './../services/logOut';\r\n\r\nexport class OpenLoginModal extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        console.log(\"Props\", this.props);\r\n        this.state = {\r\n            show: false\r\n        };\r\n    }\r\n\r\n    showModal = () => {\r\n        this.setState( { show: true });\r\n    }\r\n\r\n    hideModal = () => {\r\n        this.setState( { show: false });\r\n    }\r\n\r\n    logOut = () => {\r\n        localStorage.removeItem('token');\r\n        logout()\r\n        .then(response => {\r\n            console.log(response);\r\n            this.loginHandler();\r\n        }\r\n        )\r\n    }\r\n\r\n    loginHandler = () => {\r\n        this.props.loginHandler();\r\n    }\r\n\r\n    render() {\r\n        let button;\r\n        console.log(\"isLoggedIn\", this.props.isLoggedIn);\r\n        if(this.props.isLoggedIn){\r\n            button = <Button variant=\"outline-info\" onClick={this.logOut}>Log out</Button>\r\n        } else {\r\n            button = <Button variant=\"outline-info\" onClick={this.showModal}>Log in</Button>\r\n        }\r\n        return (     \r\n            <div>\r\n                <Modal show={this.state.show} handleClose={this.hideModal} loginHandler={this.props.loginHandler}>\r\n                </Modal>\r\n                {button}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst Modal = ({ handleClose, show, loginHandler }) => {\r\n    const showHideClassName = show ? \"modal display-block\" : \"modal display-none\";\r\n    return(\r\n        <div className={showHideClassName}>\r\n            <section>\r\n                <LoginPage loginHandler={loginHandler} handleClose={handleClose}></LoginPage>\r\n                <Button onClick={handleClose} className=\"close\">X</Button>\r\n            </section>\r\n        </div>\r\n        \r\n    );\r\n};"]},"metadata":{},"sourceType":"module"}